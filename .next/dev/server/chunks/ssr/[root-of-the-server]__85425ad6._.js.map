{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/hamaniyounes/Desktop/website/ecomerceWebsite/components/products/ProductsClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/website/ecomerceWebsite/components/products/ProductsClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/website/ecomerceWebsite/components/products/ProductsClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,iTAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0U,GACvW,wGACA","ignoreList":[0]}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/hamaniyounes/Desktop/website/ecomerceWebsite/components/products/ProductsClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/website/ecomerceWebsite/components/products/ProductsClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/website/ecomerceWebsite/components/products/ProductsClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,iTAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsT,GACnV,oFACA","ignoreList":[0]}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/hamaniyounes/Desktop/website/ecomerceWebsite/app/%28auth%29/%28dashboard%29/dashboard/products/page.tsx"],"sourcesContent":["import { getServerSession } from \"next-auth\"\nimport { authOptions } from \"@/lib/auth\"\nimport { prisma } from \"@/lib/prisma\"\nimport ProductsClient from \"@/components/products/ProductsClient\"\n\nexport const dynamic = \"force-dynamic\"\n\nasync function getProducts(tenantId: string) {\n  return prisma.product.findMany({\n    where: { store: { tenantId } },\n    include: { store: true },\n    orderBy: { createdAt: \"desc\" },\n    take: 100, // ممكن تبدلها pagination server لاحقًا\n  })\n}\n\nasync function getStores(tenantId: string) {\n  return prisma.store.findMany({\n    where: { tenantId },\n    orderBy: { createdAt: \"desc\" },\n    select: { id: true, name: true },\n  })\n}\n\nexport default async function ProductsPage() {\n  const session = await getServerSession(authOptions)\n\n  if (!session?.user?.tenantId) {\n    return (\n      <div className=\"rounded-2xl border border-red-200 bg-red-50 p-4 text-red-800\">\n        Erreur: Tenant non trouvé\n      </div>\n    )\n  }\n\n  const [products, stores] = await Promise.all([\n    getProducts(session.user.tenantId),\n    getStores(session.user.tenantId),\n  ])\n\n  return (\n    <ProductsClient\n      stores={stores}\n      products={products.map((p: { id: any; store: { id: any }; createdAt: any }) => ({\n        id: String(p.id),\n        name: (p as any).name ?? (p as any).title ?? \"Produit\",\n        price: Number((p as any).price ?? 0),\n        stock: Number((p as any).stock ?? (p as any).quantity ?? 0),\n        status: String((p as any).status ?? ((p as any).isActive ? \"ACTIVE\" : \"DRAFT\")),\n        storeId: String((p as any).storeId ?? p.store?.id ?? \"\"),\n        storeName: (p.store as any)?.name ?? \"Boutique\",\n        createdAt: p.createdAt,\n      }))}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEO,MAAM,UAAU;AAEvB,eAAe,YAAY,QAAgB;IACzC,OAAO,gKAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;QAC7B,OAAO;YAAE,OAAO;gBAAE;YAAS;QAAE;QAC7B,SAAS;YAAE,OAAO;QAAK;QACvB,SAAS;YAAE,WAAW;QAAO;QAC7B,MAAM;IACR;AACF;AAEA,eAAe,UAAU,QAAgB;IACvC,OAAO,gKAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;QAC3B,OAAO;YAAE;QAAS;QAClB,SAAS;YAAE,WAAW;QAAO;QAC7B,QAAQ;YAAE,IAAI;YAAM,MAAM;QAAK;IACjC;AACF;AAEe,eAAe;IAC5B,MAAM,UAAU,MAAM,IAAA,kMAAgB,EAAC,mKAAW;IAElD,IAAI,CAAC,SAAS,MAAM,UAAU;QAC5B,qBACE,uRAAC;YAAI,WAAU;sBAA+D;;;;;;IAIlF;IAEA,MAAM,CAAC,UAAU,OAAO,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC3C,YAAY,QAAQ,IAAI,CAAC,QAAQ;QACjC,UAAU,QAAQ,IAAI,CAAC,QAAQ;KAChC;IAED,qBACE,uRAAC,6LAAc;QACb,QAAQ;QACR,UAAU,SAAS,GAAG,CAAC,CAAC,IAAuD,CAAC;gBAC9E,IAAI,OAAO,EAAE,EAAE;gBACf,MAAM,AAAC,EAAU,IAAI,IAAI,AAAC,EAAU,KAAK,IAAI;gBAC7C,OAAO,OAAO,AAAC,EAAU,KAAK,IAAI;gBAClC,OAAO,OAAO,AAAC,EAAU,KAAK,IAAI,AAAC,EAAU,QAAQ,IAAI;gBACzD,QAAQ,OAAO,AAAC,EAAU,MAAM,IAAI,CAAC,AAAC,EAAU,QAAQ,GAAG,WAAW,OAAO;gBAC7E,SAAS,OAAO,AAAC,EAAU,OAAO,IAAI,EAAE,KAAK,EAAE,MAAM;gBACrD,WAAW,AAAC,EAAE,KAAK,EAAU,QAAQ;gBACrC,WAAW,EAAE,SAAS;YACxB,CAAC;;;;;;AAGP"}}]
}