{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/hamaniyounes/Desktop/website/ecomerceWebsite/app/storefront/%5Bsubdomain%5D/page.tsx"],"sourcesContent":["// app/storefront/[subdomain]/page.tsx\nimport { prisma } from \"@/lib/prisma\"\nimport { notFound } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Key, ReactElement, JSXElementConstructor, ReactNode, ReactPortal } from \"react\"\n\nexport default async function StorefrontHome({\n  params,\n}: {\n  params: { subdomain: string }\n}) {\n  const store = await prisma.store.findFirst({\n    where: { subdomain: params.subdomain, isActive: true },\n    select: { id: true, name: true, currency: true },\n  })\n\n  if (!store) notFound()\n\n  const products = await prisma.product.findMany({\n    where: { storeId: store.id, status: \"PUBLISHED\" },\n    orderBy: { createdAt: \"desc\" },\n    take: 24,\n  })\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"rounded-3xl border bg-white p-6\">\n        <h2 className=\"text-2xl font-bold\">{store.name}</h2>\n        <p className=\"mt-1 text-slate-500\">Découvrez nos produits</p>\n      </div>\n\n      {products.length === 0 ? (\n        <div className=\"rounded-2xl border bg-white p-10 text-center text-slate-500\">\n          Aucun produit publié pour le moment.\n        </div>\n      ) : (\n        <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n          {products.map((p: { id: Key | null | undefined; slug: any; featuredImage: any; images: any[]; name: string | number | bigint | boolean | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | Promise<string | number | bigint | boolean | ReactPortal | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | null | undefined> | null | undefined; price: string | number | bigint | boolean | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | ReactPortal | Promise<string | number | bigint | boolean | ReactPortal | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | null | undefined> | null | undefined }) => (\n            <Link\n              key={p.id}\n              href={`/product/${p.slug}`}\n              className=\"rounded-2xl border bg-white p-4 hover:bg-slate-50 transition\"\n            >\n              <div className=\"aspect-square rounded-xl bg-slate-100 overflow-hidden\">\n                <img\n                  src={p.featuredImage || p.images?.[0] || \"/placeholder.png\"}\n                  className=\"h-full w-full object-cover\"\n                />\n              </div>\n              <div className=\"mt-3\">\n                <p className=\"font-semibold line-clamp-1\">{p.name}</p>\n                <p className=\"text-sm text-slate-600 mt-1\">\n                  {p.price} {store.currency}\n                </p>\n              </div>\n            </Link>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA,sCAAsC;AACtC;AACA;AAAA;AACA;;;;;AAGe,eAAe,eAAe,EAC3C,MAAM,EAGP;IACC,MAAM,QAAQ,MAAM,gKAAM,CAAC,KAAK,CAAC,SAAS,CAAC;QACzC,OAAO;YAAE,WAAW,OAAO,SAAS;YAAE,UAAU;QAAK;QACrD,QAAQ;YAAE,IAAI;YAAM,MAAM;YAAM,UAAU;QAAK;IACjD;IAEA,IAAI,CAAC,OAAO,IAAA,0OAAQ;IAEpB,MAAM,WAAW,MAAM,gKAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;QAC7C,OAAO;YAAE,SAAS,MAAM,EAAE;YAAE,QAAQ;QAAY;QAChD,SAAS;YAAE,WAAW;QAAO;QAC7B,MAAM;IACR;IAEA,qBACE,uRAAC;QAAI,WAAU;;0BACb,uRAAC;gBAAI,WAAU;;kCACb,uRAAC;wBAAG,WAAU;kCAAsB,MAAM,IAAI;;;;;;kCAC9C,uRAAC;wBAAE,WAAU;kCAAsB;;;;;;;;;;;;YAGpC,SAAS,MAAM,KAAK,kBACnB,uRAAC;gBAAI,WAAU;0BAA8D;;;;;qCAI7E,uRAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,kBACb,uRAAC,mOAAI;wBAEH,MAAM,CAAC,SAAS,EAAE,EAAE,IAAI,EAAE;wBAC1B,WAAU;;0CAEV,uRAAC;gCAAI,WAAU;0CACb,cAAA,uRAAC;oCACC,KAAK,EAAE,aAAa,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,IAAI;oCACzC,WAAU;;;;;;;;;;;0CAGd,uRAAC;gCAAI,WAAU;;kDACb,uRAAC;wCAAE,WAAU;kDAA8B,EAAE,IAAI;;;;;;kDACjD,uRAAC;wCAAE,WAAU;;4CACV,EAAE,KAAK;4CAAC;4CAAE,MAAM,QAAQ;;;;;;;;;;;;;;uBAbxB,EAAE,EAAE;;;;;;;;;;;;;;;;AAsBvB"}}]
}