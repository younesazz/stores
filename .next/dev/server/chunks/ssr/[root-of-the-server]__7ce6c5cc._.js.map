{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/hamaniyounes/Desktop/website/ecomerceWebsite/app/storefront/%5Bsubdomain%5D/%5Bslug%5D/page.tsx"],"sourcesContent":["// app/storefront/[subdomain]/product/[slug]/page.tsx\nimport { prisma } from \"@/lib/prisma\"\nimport { notFound } from \"next/navigation\"\nimport { Key, ReactElement, JSXElementConstructor, ReactNode, ReactPortal } from \"react\";\n\nexport default async function ProductPage({\n  params,\n}: {\n  params: { subdomain: string; slug: string }\n}) {\n  const product = await prisma.product.findFirst({\n    where: {\n      slug: params.slug,\n      status: \"PUBLISHED\",\n      store: {\n        subdomain: params.subdomain,\n        isActive: true,\n      },\n    },\n    include: {\n      store: {\n        select: {\n          name: true,\n          currency: true,\n          primaryColor: true,\n        },\n      },\n      category: {\n        select: { name: true },\n      },\n      variants: true,\n    },\n  })\n\n  if (!product) notFound()\n\n  return (\n    <div className=\"grid gap-8 md:grid-cols-2\">\n      {/* Image */}\n      <div className=\"aspect-square rounded-2xl border bg-white overflow-hidden\">\n        <img\n          src={\n            product.featuredImage ||\n            product.images?.[0] ||\n            \"/placeholder.png\"\n          }\n          alt={product.name}\n          className=\"h-full w-full object-cover\"\n        />\n      </div>\n\n      {/* Info */}\n      <div className=\"space-y-4\">\n        <h1 className=\"text-3xl font-bold\">{product.name}</h1>\n\n        {product.category && (\n          <p className=\"text-sm text-slate-500\">\n            Cat√©gorie : {product.category.name}\n          </p>\n        )}\n\n        <p className=\"text-2xl font-semibold\">\n          {product.price} {product.store.currency}\n        </p>\n\n        {product.quantity > 0 ? (\n          <span className=\"inline-block rounded-full bg-emerald-50 px-3 py-1 text-sm text-emerald-700\">\n            En stock\n          </span>\n        ) : (\n          <span className=\"inline-block rounded-full bg-red-50 px-3 py-1 text-sm text-red-700\">\n            Rupture de stock\n          </span>\n        )}\n\n        {product.description && (\n          <p className=\"text-slate-600\">{product.description}</p>\n        )}\n\n        {/* Variants (optional) */}\n        {product.variants.length > 0 && (\n          <div>\n            <p className=\"text-sm font-medium mb-2\">Options</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {product.variants.map((v: { id: Key | null | undefined; name: string | number | bigint | boolean | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | ReactPortal | Promise<string | number | bigint | boolean | ReactPortal | ReactElement<unknown, string | JSXElementConstructor<any>> | Iterable<ReactNode> | null | undefined> | null | undefined; }) => (\n                <button\n                  key={v.id}\n                  className=\"rounded-lg border px-3 py-1 text-sm hover:bg-slate-100\"\n                >\n                  {v.name}\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <button\n          className=\"mt-6 w-full rounded-xl px-4 py-3 text-white font-semibold\"\n          style={{ backgroundColor: product.store.primaryColor }}\n        >\n          Ajouter au panier\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA,qDAAqD;AACrD;AACA;AAAA;;;;AAGe,eAAe,YAAY,EACxC,MAAM,EAGP;IACC,MAAM,UAAU,MAAM,gKAAM,CAAC,OAAO,CAAC,SAAS,CAAC;QAC7C,OAAO;YACL,MAAM,OAAO,IAAI;YACjB,QAAQ;YACR,OAAO;gBACL,WAAW,OAAO,SAAS;gBAC3B,UAAU;YACZ;QACF;QACA,SAAS;YACP,OAAO;gBACL,QAAQ;oBACN,MAAM;oBACN,UAAU;oBACV,cAAc;gBAChB;YACF;YACA,UAAU;gBACR,QAAQ;oBAAE,MAAM;gBAAK;YACvB;YACA,UAAU;QACZ;IACF;IAEA,IAAI,CAAC,SAAS,IAAA,0OAAQ;IAEtB,qBACE,uRAAC;QAAI,WAAU;;0BAEb,uRAAC;gBAAI,WAAU;0BACb,cAAA,uRAAC;oBACC,KACE,QAAQ,aAAa,IACrB,QAAQ,MAAM,EAAE,CAAC,EAAE,IACnB;oBAEF,KAAK,QAAQ,IAAI;oBACjB,WAAU;;;;;;;;;;;0BAKd,uRAAC;gBAAI,WAAU;;kCACb,uRAAC;wBAAG,WAAU;kCAAsB,QAAQ,IAAI;;;;;;oBAE/C,QAAQ,QAAQ,kBACf,uRAAC;wBAAE,WAAU;;4BAAyB;4BACvB,QAAQ,QAAQ,CAAC,IAAI;;;;;;;kCAItC,uRAAC;wBAAE,WAAU;;4BACV,QAAQ,KAAK;4BAAC;4BAAE,QAAQ,KAAK,CAAC,QAAQ;;;;;;;oBAGxC,QAAQ,QAAQ,GAAG,kBAClB,uRAAC;wBAAK,WAAU;kCAA6E;;;;;6CAI7F,uRAAC;wBAAK,WAAU;kCAAqE;;;;;;oBAKtF,QAAQ,WAAW,kBAClB,uRAAC;wBAAE,WAAU;kCAAkB,QAAQ,WAAW;;;;;;oBAInD,QAAQ,QAAQ,CAAC,MAAM,GAAG,mBACzB,uRAAC;;0CACC,uRAAC;gCAAE,WAAU;0CAA2B;;;;;;0CACxC,uRAAC;gCAAI,WAAU;0CACZ,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC,kBACrB,uRAAC;wCAEC,WAAU;kDAET,EAAE,IAAI;uCAHF,EAAE,EAAE;;;;;;;;;;;;;;;;kCAUnB,uRAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,iBAAiB,QAAQ,KAAK,CAAC,YAAY;wBAAC;kCACtD;;;;;;;;;;;;;;;;;;AAMT"}}]
}