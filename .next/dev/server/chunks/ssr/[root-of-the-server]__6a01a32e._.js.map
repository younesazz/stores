{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/hamaniyounes/Desktop/website/ecomerceWebsite/app/%28auth%29/signup/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { useToast } from \"@/components/ui/use-toast\"\n\nexport default function SignUpPage() {\n  const router = useRouter()\n  const { toast } = useToast()\n  const [isLoading, setIsLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    tenantName: \"\",\n    subdomain: \"\",\n  })\n  const [errors, setErrors] = useState<Record<string, string>>({})\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setFormData(prev => ({ ...prev, [name]: value }))\n    \n    // Auto-générer le subdomain depuis le nom de l'entreprise\n    if (name === \"tenantName\" && !formData.subdomain) {\n      const subdomain = value\n        .toLowerCase()\n        .replace(/[^a-z0-9\\s-]/g, '')\n        .replace(/\\s+/g, '-')\n        .slice(0, 20)\n      setFormData(prev => ({ ...prev, subdomain }))\n    }\n    \n    // Clear error for this field\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: \"\" }))\n    }\n  }\n\n  const validateForm = () => {\n    const newErrors: Record<string, string> = {}\n\n    if (!formData.firstName) newErrors.firstName = \"Prénom requis\"\n    if (!formData.lastName) newErrors.lastName = \"Nom requis\"\n    if (!formData.email) newErrors.email = \"Email requis\"\n    if (!formData.phone) newErrors.phone = \"Téléphone requis\"\n    if (!formData.password) newErrors.password = \"Mot de passe requis\"\n    if (formData.password.length < 8) newErrors.password = \"Au moins 8 caractères\"\n    if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = \"Les mots de passe ne correspondent pas\"\n    }\n    if (!formData.tenantName) newErrors.tenantName = \"Nom de l'entreprise requis\"\n    if (!formData.subdomain) newErrors.subdomain = \"Sous-domaine requis\"\n    if (!/^[a-z0-9-]+$/.test(formData.subdomain)) {\n      newErrors.subdomain = \"Uniquement lettres minuscules, chiffres et tirets\"\n    }\n\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!validateForm()) return\n\n    setIsLoading(true)\n\n    try {\n      const response = await fetch(\"/api/register\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          email: formData.email,\n          phone: formData.phone,\n          password: formData.password,\n          tenantName: formData.tenantName,\n          subdomain: formData.subdomain,\n        }),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Erreur lors de l'inscription\")\n      }\n\n      toast({\n        title: \"Compte créé avec succès !\",\n        description: `Votre sous-domaine: ${data.data.subdomain}.flexdz.com`,\n      })\n\n      // Rediriger vers login\n      router.push(\"/login?registered=true\")\n    } catch (error: any) {\n      toast({\n        variant: \"destructive\",\n        title: \"Erreur\",\n        description: error.message,\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 p-4\">\n      <Card className=\"w-full max-w-2xl\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-3xl font-bold text-center\">\n            Créer votre boutique\n          </CardTitle>\n          <CardDescription className=\"text-center\">\n            Commencez à vendre en ligne en quelques minutes\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Informations personnelles */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"firstName\">Prénom *</Label>\n                <Input\n                  id=\"firstName\"\n                  name=\"firstName\"\n                  type=\"text\"\n                  value={formData.firstName}\n                  onChange={handleChange}\n                  className={errors.firstName ? \"border-red-500\" : \"\"}\n                />\n                {errors.firstName && (\n                  <p className=\"text-sm text-red-500\">{errors.firstName}</p>\n                )}\n              </div>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"lastName\">Nom *</Label>\n                <Input\n                  id=\"lastName\"\n                  name=\"lastName\"\n                  type=\"text\"\n                  value={formData.lastName}\n                  onChange={handleChange}\n                  className={errors.lastName ? \"border-red-500\" : \"\"}\n                />\n                {errors.lastName && (\n                  <p className=\"text-sm text-red-500\">{errors.lastName}</p>\n                )}\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email *</Label>\n              <Input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                placeholder=\"exemple@email.com\"\n                value={formData.email}\n                onChange={handleChange}\n                className={errors.email ? \"border-red-500\" : \"\"}\n              />\n              {errors.email && (\n                <p className=\"text-sm text-red-500\">{errors.email}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"phone\">Téléphone *</Label>\n              <Input\n                id=\"phone\"\n                name=\"phone\"\n                type=\"tel\"\n                placeholder=\"0555123456\"\n                value={formData.phone}\n                onChange={handleChange}\n                className={errors.phone ? \"border-red-500\" : \"\"}\n              />\n              {errors.phone && (\n                <p className=\"text-sm text-red-500\">{errors.phone}</p>\n              )}\n            </div>\n\n            {/* Mot de passe */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\">Mot de passe *</Label>\n                <Input\n                  id=\"password\"\n                  name=\"password\"\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={handleChange}\n                  className={errors.password ? \"border-red-500\" : \"\"}\n                />\n                {errors.password && (\n                  <p className=\"text-sm text-red-500\">{errors.password}</p>\n                )}\n              </div>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"confirmPassword\">Confirmer *</Label>\n                <Input\n                  id=\"confirmPassword\"\n                  name=\"confirmPassword\"\n                  type=\"password\"\n                  value={formData.confirmPassword}\n                  onChange={handleChange}\n                  className={errors.confirmPassword ? \"border-red-500\" : \"\"}\n                />\n                {errors.confirmPassword && (\n                  <p className=\"text-sm text-red-500\">{errors.confirmPassword}</p>\n                )}\n              </div>\n            </div>\n\n            {/* Informations entreprise */}\n            <div className=\"border-t pt-4 mt-4\">\n              <h3 className=\"font-semibold mb-4\">Informations de votre boutique</h3>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"tenantName\">Nom de l'entreprise *</Label>\n                <Input\n                  id=\"tenantName\"\n                  name=\"tenantName\"\n                  type=\"text\"\n                  placeholder=\"Ma Boutique\"\n                  value={formData.tenantName}\n                  onChange={handleChange}\n                  className={errors.tenantName ? \"border-red-500\" : \"\"}\n                />\n                {errors.tenantName && (\n                  <p className=\"text-sm text-red-500\">{errors.tenantName}</p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"subdomain\">Sous-domaine *</Label>\n                <div className=\"flex items-center gap-2\">\n                  <Input\n                    id=\"subdomain\"\n                    name=\"subdomain\"\n                    type=\"text\"\n                    placeholder=\"ma-boutique\"\n                    value={formData.subdomain}\n                    onChange={handleChange}\n                    className={errors.subdomain ? \"border-red-500\" : \"\"}\n                  />\n                  <span className=\"text-sm text-muted-foreground whitespace-nowrap\">\n                    .flexdz.com\n                  </span>\n                </div>\n                {errors.subdomain ? (\n                  <p className=\"text-sm text-red-500\">{errors.subdomain}</p>\n                ) : (\n                  <p className=\"text-sm text-muted-foreground\">\n                    Votre boutique sera accessible sur: {formData.subdomain || 'votre-sous-domaine'}.flexdz.com\n                  </p>\n                )}\n              </div>\n            </div>\n\n            <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n              {isLoading ? \"Création en cours...\" : \"Créer mon compte\"}\n            </Button>\n          </form>\n        </CardContent>\n        <CardFooter className=\"flex justify-center\">\n          <p className=\"text-sm text-muted-foreground\">\n            Vous avez déjà un compte ?{\" \"}\n            <Link href=\"/login\" className=\"text-primary hover:underline font-medium\">\n              Se connecter\n            </Link>\n          </p>\n        </CardFooter>\n      </Card>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}