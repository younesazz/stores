{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/hamaniyounes/Desktop/website/ecomerceWebsite/app/stores/StorefrontNavbar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport Link from \"next/link\"\n\ntype Props = {\n  store: {\n    id: string\n    name: string\n    subdomain: string\n    logo: string | null\n    currency: string\n  }\n}\n\nfunction getCartCount() {\n  try {\n    const cart = JSON.parse(localStorage.getItem(\"cart\") || \"[]\")\n    return Array.isArray(cart) ? cart.reduce((a, i) => a + (i.quantity || 1), 0) : 0\n  } catch {\n    return 0\n  }\n}\n\nexport default function StorefrontNavbar({ store }: Props) {\n  const [open, setOpen] = useState(false)\n  const [count, setCount] = useState(0)\n\n  useEffect(() => {\n    const refresh = () => setCount(getCartCount())\n    refresh()\n    window.addEventListener(\"storage\", refresh)\n    window.addEventListener(\"cart:update\", refresh as any)\n    return () => {\n      window.removeEventListener(\"storage\", refresh)\n      window.removeEventListener(\"cart:update\", refresh as any)\n    }\n  }, [])\n\n  useEffect(() => {\n    const onEsc = (e: KeyboardEvent) => e.key === \"Escape\" && setOpen(false)\n    document.addEventListener(\"keydown\", onEsc)\n    return () => document.removeEventListener(\"keydown\", onEsc)\n  }, [])\n\n  const basePath = useMemo(() => `/storefront/${store.subdomain}`, [store.subdomain])\n\n  return (\n    <header className=\"sticky top-0 z-50 border-b bg-white/80 backdrop-blur\">\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between\">\n        <Link href={`${basePath}`} className=\"flex items-center gap-3\">\n          <div className=\"h-10 w-10 rounded-2xl border bg-white grid place-items-center overflow-hidden\">\n            {store.logo ? (\n              // eslint-disable-next-line @next/next/no-img-element\n              <img src={store.logo} alt={store.name} className=\"h-full w-full object-cover\" />\n            ) : (\n              <span className=\"font-extrabold\" style={{ color: \"var(--store-primary)\" }}>\n                {store.name.slice(0, 1).toUpperCase()}\n              </span>\n            )}\n          </div>\n          <div className=\"leading-tight\">\n            <p className=\"font-bold\">{store.name}</p>\n            <p className=\"text-xs text-slate-500\">Boutique en ligne</p>\n          </div>\n        </Link>\n\n        {/* Desktop */}\n        <nav className=\"hidden md:flex items-center gap-6 text-sm font-semibold\">\n          <a href=\"#categories\" className=\"text-slate-700 hover:text-slate-900\">Catégories</a>\n          <a href=\"#products\" className=\"text-slate-700 hover:text-slate-900\">Produits</a>\n          <Link href={`${basePath}/cart`} className=\"relative\">\n            <span className=\"text-slate-700 hover:text-slate-900\">Panier</span>\n            {count > 0 && (\n              <span\n                className=\"absolute -top-2 -right-3 min-w-4.5 h-4.5 rounded-full text-[11px] px-1 grid place-items-center text-white\"\n                style={{ backgroundColor: \"var(--store-primary)\" }}\n              >\n                {count}\n              </span>\n            )}\n          </Link>\n        </nav>\n\n        {/* Mobile */}\n        <button\n          className=\"md:hidden inline-flex items-center justify-center rounded-xl border px-3 py-2 text-sm\"\n          onClick={() => setOpen((v) => !v)}\n          aria-label=\"Menu\"\n        >\n          ☰\n        </button>\n      </div>\n\n      {/* Mobile Drawer */}\n      {open && (\n        <div className=\"md:hidden border-t bg-white\">\n          <div className=\"mx-auto max-w-7xl px-4 py-4 space-y-3\">\n            <a onClick={() => setOpen(false)} href=\"#categories\" className=\"block rounded-xl border p-3 font-semibold\">\n              Catégories\n            </a>\n            <a onClick={() => setOpen(false)} href=\"#products\" className=\"block rounded-xl border p-3 font-semibold\">\n              Produits\n            </a>\n            <Link onClick={() => setOpen(false)} href={`${basePath}/cart`} className=\"block rounded-xl border p-3 font-semibold\">\n              Panier {count > 0 ? `(${count})` : \"\"}\n            </Link>\n          </div>\n        </div>\n      )}\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAeA,SAAS;IACP,IAAI;QACF,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,WAAW;QACxD,OAAO,MAAM,OAAO,CAAC,QAAQ,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG,KAAK;IACjF,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEe,SAAS,iBAAiB,EAAE,KAAK,EAAS;;IACvD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,kNAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,kNAAQ,EAAC;IAEnC,IAAA,mNAAS;sCAAC;YACR,MAAM;sDAAU,IAAM,SAAS;;YAC/B;YACA,OAAO,gBAAgB,CAAC,WAAW;YACnC,OAAO,gBAAgB,CAAC,eAAe;YACvC;8CAAO;oBACL,OAAO,mBAAmB,CAAC,WAAW;oBACtC,OAAO,mBAAmB,CAAC,eAAe;gBAC5C;;QACF;qCAAG,EAAE;IAEL,IAAA,mNAAS;sCAAC;YACR,MAAM;oDAAQ,CAAC,IAAqB,EAAE,GAAG,KAAK,YAAY,QAAQ;;YAClE,SAAS,gBAAgB,CAAC,WAAW;YACrC;8CAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;;QACvD;qCAAG,EAAE;IAEL,MAAM,WAAW,IAAA,iNAAO;8CAAC,IAAM,CAAC,YAAY,EAAE,MAAM,SAAS,EAAE;6CAAE;QAAC,MAAM,SAAS;KAAC;IAElF,qBACE,sOAAC;QAAO,WAAU;;0BAChB,sOAAC;gBAAI,WAAU;;kCACb,sOAAC,mNAAI;wBAAC,MAAM,GAAG,UAAU;wBAAE,WAAU;;0CACnC,sOAAC;gCAAI,WAAU;0CACZ,MAAM,IAAI,GACT,qDAAqD;8CACrD,sOAAC;oCAAI,KAAK,MAAM,IAAI;oCAAE,KAAK,MAAM,IAAI;oCAAE,WAAU;;;;;yDAEjD,sOAAC;oCAAK,WAAU;oCAAiB,OAAO;wCAAE,OAAO;oCAAuB;8CACrE,MAAM,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,WAAW;;;;;;;;;;;0CAIzC,sOAAC;gCAAI,WAAU;;kDACb,sOAAC;wCAAE,WAAU;kDAAa,MAAM,IAAI;;;;;;kDACpC,sOAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;;;;;;;kCAK1C,sOAAC;wBAAI,WAAU;;0CACb,sOAAC;gCAAE,MAAK;gCAAc,WAAU;0CAAsC;;;;;;0CACtE,sOAAC;gCAAE,MAAK;gCAAY,WAAU;0CAAsC;;;;;;0CACpE,sOAAC,mNAAI;gCAAC,MAAM,GAAG,SAAS,KAAK,CAAC;gCAAE,WAAU;;kDACxC,sOAAC;wCAAK,WAAU;kDAAsC;;;;;;oCACrD,QAAQ,mBACP,sOAAC;wCACC,WAAU;wCACV,OAAO;4CAAE,iBAAiB;wCAAuB;kDAEhD;;;;;;;;;;;;;;;;;;kCAOT,sOAAC;wBACC,WAAU;wBACV,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;wBAC/B,cAAW;kCACZ;;;;;;;;;;;;YAMF,sBACC,sOAAC;gBAAI,WAAU;0BACb,cAAA,sOAAC;oBAAI,WAAU;;sCACb,sOAAC;4BAAE,SAAS,IAAM,QAAQ;4BAAQ,MAAK;4BAAc,WAAU;sCAA4C;;;;;;sCAG3G,sOAAC;4BAAE,SAAS,IAAM,QAAQ;4BAAQ,MAAK;4BAAY,WAAU;sCAA4C;;;;;;sCAGzG,sOAAC,mNAAI;4BAAC,SAAS,IAAM,QAAQ;4BAAQ,MAAM,GAAG,SAAS,KAAK,CAAC;4BAAE,WAAU;;gCAA4C;gCAC3G,QAAQ,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,GAAG;;;;;;;;;;;;;;;;;;;;;;;;AAOjD;GAxFwB;KAAA"}}]
}